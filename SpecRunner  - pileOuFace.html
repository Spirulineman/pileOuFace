<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Jasmine Spec Runner v3.6.0</title>

  <link rel="shortcut icon" type="image/png" href="lib/jasmine-3.6.0/jasmine_favicon.png">
  <link rel="stylesheet" href="lib/jasmine-3.6.0/jasmine.css">

  <script src="lib/jasmine-3.6.0/jasmine.js"></script>
  <script src="lib/jasmine-3.6.0/jasmine-html.js"></script>
  <script src="lib/jasmine-3.6.0/boot.js"></script>
  <!-- <script src="Js/main.js" type="text/javascript"></script> -->

  <script>

    function compteVoyelles(word) {
      let voyelle = word.replace(/[^aeiouy]/ig, '').length;
      return voyelle;
    }
    // ///////////////////////////////////////////
    function rand2(min, max) {
      let result = Math.round(Math.random() * (max - min)) + min;
      return result;
    }

    function pileOuFace() {
      let rand = rand2(0,1)
      return rand;
    }

    // ///////////////////////////////////////

    function lancerPileOuFace() {
    //let choixUser = prompt(' choisissez entre 1 (pile) ou 0 (face) : ');
    let choixUser = 1;
    let ordi = pileOuFace();

    if (choixUser === ordi) 
    {
        return true;
    }
    else{
        return false;
    }
}
///////////////////////////////////////

function jeuPileOuFace() {
    let chances = 3, score = 0, win = false, loser = false;
    
    while (!win || !loser) 
    {
        let PileOuFace = lancerPileOuFace();

        if (PileOuFace === true) {
            score++;
            console.log('votre score : ' + score);
            if (score >= 2) {
                console.log('Vous avez gagn√© ! ');
                return win = true;
            }
        }
        else if (PileOuFace === false) {
            chances--;
            console.log('chances restant : ' + chances);
            if (chances === 0) {
                console.log('Vous avez perdu ! ');
                return loser = true;
            }
        }
    }
}



/////////////////////////////// TEST

    describe('pile ou face', function () 
    {
      it('compte le nombre de voyelle', function()
      {
        expect(compteVoyelles('all')).toBe(1);
        expect(compteVoyelles('qsdfjklm')).toBe(0);
        expect(compteVoyelles('azerty')).toBe(3);
      });

      it('renvoie 0 ou 1', function ()
      {
        let num = pileOuFace();
        if (num === 0) {
          expect(num).toBe(0);
        }
        else if (num === 1){
          expect(num).toBe(1);
        }
      });

      it(' retourne boolean', function()
      {
        let PileOuFace = lancerPileOuFace();
        if (PileOuFace === 0) {
          expect(PileOuFace).toBe(false)
        }
        else if (PileOuFace === 1) {
          expect(PileOuFace).toBe(true)
        }
      });

      it(' retourne boolean avec jeuPileOuFace()', function()
      {
        let jeu = jeuPileOuFace();
        if (jeu === false) {
          expect(jeu).toBe(false)
        }
        else if (jeu === true) {
          expect(jeu).toBe(true)
        }
      });
    });
  </script>

</head>

<body>
</body>
</html>
